<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eventos | Feras Esportivas</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Sora:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <!-- Navigation -->
  <header>
    <div class="container nav-bar">
      <div class="logo">Feras Esportivas</div>
      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="events.html" class="cta-button">Eventos</a>
        <a href="store.html">Loja</a>
        <a href="blog.html">Blog</a>
        <a href="about.html">Sobre</a>
        <a href="contact.html">Contato</a>
        <a href="login.html" class="cta-button">Login</a>
      </nav>
    </div>
  </header>

  <section class="hero" style="background-image: url('assets/images/hero.jpg'); height: 40vh;">
    <div class="hero-content">
      <h1>Calendário de Eventos</h1>
      <p>Escolha sua modalidade, filtre por local e garanta sua vaga em nossas provas.</p>
    </div>
  </section>

  <main class="container">
    <h2 style="margin-bottom: 1rem; font-family: var(--font-heading);">Próximos Eventos</h2>
    <!-- Filter section -->
    <div style="margin-bottom:1.5rem; display:flex; flex-wrap:wrap; gap:1rem;">
      <select style="padding:0.5rem; border:1px solid #ccc; border-radius:4px;">
        <option value="">Modalidade</option>
        <option>Canicross</option>
        <option>Agility</option>
        <option>Bikejoring</option>
      </select>
      <select style="padding:0.5rem; border:1px solid #ccc; border-radius:4px;">
        <option value="">Estado</option>
        <option>SP</option>
        <option>RJ</option>
        <option>MG</option>
        <option>RS</option>
      </select>
      <select style="padding:0.5rem; border:1px solid #ccc; border-radius:4px;">
        <option value="">Nível</option>
        <option>Iniciante</option>
        <option>Intermediário</option>
        <option>Avançado</option>
      </select>
    </div>
    <!-- Lista dinâmica de eventos -->
    <div id="events-container" class="cards"></div>
  </main>

  <footer>
    <div class="container footer-content">
      <div>
        <h4>Feras Esportivas</h4>
        <p>Somos movidos por patas, suor e propósito. Acreditamos no poder do esporte para fortalecer vínculos entre humanos e cães.</p>
      </div>
      <div>
        <h4>Navegação</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="events.html">Eventos</a></li>
          <li><a href="store.html">Loja</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li><a href="about.html">Sobre</a></li>
          <li><a href="contact.html">Contato</a></li>
        </ul>
      </div>
      <div>
        <h4>Contato</h4>
        <ul>
          <li>Email: <a href="mailto:contato@ferasesportivas.com">contato@ferasesportivas.com</a></li>
          <li>Instagram: <a href="https://instagram.com/feras.esportivas" target="_blank">@feras.esportivas</a></li>
          <li>TikTok: <a href="https://tiktok.com/@ferasesportivas" target="_blank">@ferasesportivas</a></li>
        </ul>
      </div>
    </div>
    <div style="text-align:center; margin-top:1rem; font-size:0.8rem;">© 2025 Feras Esportivas. Todos os direitos reservados.</div>
  </footer>

    <!-- Script para carregar eventos dinâmicos -->
    <script>
    (function() {
      const events = JSON.parse(localStorage.getItem('events')) || [];
      const container = document.getElementById('events-container');
      if (events.length === 0) {
        container.innerHTML = '<p>Nenhum evento encontrado. Aguarde atualizações.</p>';
        return;
      }
      events.forEach(function(ev, index) {
        const card = document.createElement('div');
        card.className = 'card';
        // Usa a primeira foto do evento se existir, caso contrário usa imagem padrão
        let imgSrc = 'assets/images/hero.jpg';
        if (ev.photos && ev.photos.length > 0) {
          imgSrc = ev.photos[0];
        }
        // Prepara resumo da descrição (máx 100 caracteres)
        const desc = ev.desc || '';
        const shortDesc = desc.length > 100 ? desc.substring(0, 97) + '...' : desc;
        const priceText = (ev.price !== undefined && ev.price !== null && !isNaN(ev.price)) ? ` – R$ ${Number(ev.price).toFixed(2)}` : '';
        card.innerHTML = `<img src="${imgSrc}" alt="${ev.title}"><div class="card-content"><h3>${ev.title}</h3><p>${ev.location} – ${ev.date} – ${ev.modalidade} – ${ev.nivel}${priceText}</p><p>${shortDesc}</p><a href="event.html?index=${index}" class="btn">Detalhes</a></div>`;
        container.appendChild(card);
      });
    })();
  </script>
</body>
</html>